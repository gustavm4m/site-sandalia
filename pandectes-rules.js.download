window.PandectesRulesSettings={"store":{"id":50603294882,"adminMode":false,"headless":false,"storefrontRootDomain":"","checkoutRootDomain":"","storefrontAccessToken":""},"banner":{"revokableTrigger":false,"cookiesBlockedByDefault":"7","hybridStrict":false,"isActive":true},"geolocation":{"brOnly":false,"caOnly":false,"euOnly":false,"jpOnly":false,"thOnly":false,"canadaOnly":false,"globalVisibility":true},"blocker":{"isActive":false,"googleConsentMode":{"isActive":false,"id":"","analyticsId":"","adStorageCategory":4,"analyticsStorageCategory":2,"functionalityStorageCategory":1,"personalizationStorageCategory":1,"securityStorageCategory":0,"customEvent":true,"redactData":true,"urlPassthrough":false},"facebookPixel":{"isActive":false,"id":"","ldu":false},"microsoft":{},"clarity":{},"rakuten":{"isActive":false,"cmp":false,"ccpa":false},"defaultBlocked":7,"patterns":{"whiteList":[],"blackList":{"1":[],"2":[],"4":[],"8":[]},"iframesWhiteList":[],"iframesBlackList":{"1":[],"2":[],"4":[],"8":[]},"beaconsWhiteList":[],"beaconsBlackList":{"1":[],"2":[],"4":[],"8":[]}}}};!function(){"use strict";window.PandectesRules=window.PandectesRules||{},window.PandectesRules.manualBlacklist={1:[],2:[],4:[]},window.PandectesRules.blacklistedIFrames={1:[],2:[],4:[]},window.PandectesRules.blacklistedCss={1:[],2:[],4:[]},window.PandectesRules.blacklistedBeacons={1:[],2:[],4:[]};const e="javascript/blocked";function t(e){return new RegExp(e.replace(/[/\\.+?$()]/g,"\\$&").replace("*","(.*)"))}const n=(e,t="log")=>{new URLSearchParams(window.location.search).get("log")&&console[t](`PandectesRules: ${e}`)};function a(e){const t=document.createElement("script");t.async=!0,t.src=e,document.head.appendChild(t)}const o=window.PandectesRulesSettings||window.PandectesSettings,s=function(){if(void 0!==window.dataLayer&&Array.isArray(window.dataLayer)){if(window.dataLayer.some((e=>"pandectes_full_scan"===e.event)))return!0}return!1}(),r=((e="_pandectes_gdpr")=>{const t=("; "+document.cookie).split("; "+e+"=");let n;if(t.length<2)n={};else{const e=t.pop().split(";");n=window.atob(e.shift())}const a=(e=>{try{return JSON.parse(e)}catch(e){return!1}})(n);return!1!==a?a:n})(),{banner:{isActive:i},blocker:{defaultBlocked:c,patterns:d}}=o,l=r&&null!==r.preferences&&void 0!==r.preferences?r.preferences:null,u=s?0:i?null===l?c:l:0,g={1:!(1&u),2:!(2&u),4:!(4&u)},{blackList:f,whiteList:p,iframesBlackList:h,iframesWhiteList:w,beaconsBlackList:y,beaconsWhiteList:m}=d,b={blackList:[],whiteList:[],iframesBlackList:{1:[],2:[],4:[],8:[]},iframesWhiteList:[],beaconsBlackList:{1:[],2:[],4:[],8:[]},beaconsWhiteList:[]};[1,2,4].map((e=>{g[e]||(b.blackList.push(...f[e].length?f[e].map(t):[]),b.iframesBlackList[e]=h[e].length?h[e].map(t):[],b.beaconsBlackList[e]=y[e].length?y[e].map(t):[])})),b.whiteList=p.length?p.map(t):[],b.iframesWhiteList=w.length?w.map(t):[],b.beaconsWhiteList=m.length?m.map(t):[];const k={scripts:[],iframes:{1:[],2:[],4:[]},beacons:{1:[],2:[],4:[]},css:{1:[],2:[],4:[]}},_=(t,n)=>t&&(!n||n!==e)&&(!b.blackList||b.blackList.some((e=>e.test(t))))&&(!b.whiteList||b.whiteList.every((e=>!e.test(t)))),S=(e,t)=>{const n=b.iframesBlackList[t],a=b.iframesWhiteList;return e&&(!n||n.some((t=>t.test(e))))&&(!a||a.every((t=>!t.test(e))))},L=(e,t)=>{const n=b.beaconsBlackList[t],a=b.beaconsWhiteList;return e&&(!n||n.some((t=>t.test(e))))&&(!a||a.every((t=>!t.test(e))))},v=new MutationObserver((e=>{for(let t=0;t<e.length;t++){const{addedNodes:n}=e[t];for(let e=0;e<n.length;e++){const t=n[e],a=t.dataset&&t.dataset.cookiecategory;if(1===t.nodeType&&"LINK"===t.tagName){const e=t.dataset&&t.dataset.href;if(e&&a)switch(a){case"functionality":case"C0001":k.css[1].push(e);break;case"performance":case"C0002":k.css[2].push(e);break;case"targeting":case"C0003":k.css[4].push(e)}}}}}));var C=new MutationObserver((t=>{for(let a=0;a<t.length;a++){const{addedNodes:o}=t[a];for(let t=0;t<o.length;t++){const a=o[t],s=a.src||a.dataset&&a.dataset.src,r=a.dataset&&a.dataset.cookiecategory;if(1===a.nodeType&&"IFRAME"===a.tagName){if(s){let e=!1;S(s,1)||"functionality"===r||"C0001"===r?(e=!0,k.iframes[1].push(s)):S(s,2)||"performance"===r||"C0002"===r?(e=!0,k.iframes[2].push(s)):(S(s,4)||"targeting"===r||"C0003"===r)&&(e=!0,k.iframes[4].push(s)),e&&(a.removeAttribute("src"),a.setAttribute("data-src",s))}}else if(1===a.nodeType&&"IMG"===a.tagName){if(s){let e=!1;L(s,1)?(e=!0,k.beacons[1].push(s)):L(s,2)?(e=!0,k.beacons[2].push(s)):L(s,4)&&(e=!0,k.beacons[4].push(s)),e&&(a.removeAttribute("src"),a.setAttribute("data-src",s))}}else if(1===a.nodeType&&"SCRIPT"===a.tagName){const t=a.type;let o=!1;if(_(s,t)?(n(`rule blocked: ${s}`),o=!0):s&&r?n(`manually blocked @ ${r}: ${s}`):r&&n(`manually blocked @ ${r}: inline code`),o){k.scripts.push([a,t]),a.type=e;const n=function(t){a.getAttribute("type")===e&&t.preventDefault(),a.removeEventListener("beforescriptexecute",n)};a.addEventListener("beforescriptexecute",n),a.parentElement&&a.parentElement.removeChild(a)}}}}}));const A=document.createElement,P={src:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"src"),type:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"type")};window.PandectesRules.unblockCss=e=>{const t=k.css[e]||[];t.length&&n(`Unblocking CSS for ${e}`),t.forEach((e=>{const t=document.querySelector(`link[data-href^="${e}"]`);t.removeAttribute("data-href"),t.href=e})),k.css[e]=[]},window.PandectesRules.unblockIFrames=e=>{const t=k.iframes[e]||[];t.length&&n(`Unblocking IFrames for ${e}`),b.iframesBlackList[e]=[],t.forEach((e=>{const t=document.querySelector(`iframe[data-src^="${e}"]`);t.removeAttribute("data-src"),t.src=e})),k.iframes[e]=[]},window.PandectesRules.unblockBeacons=e=>{const t=k.beacons[e]||[];t.length&&n(`Unblocking Beacons for ${e}`),b.beaconsBlackList[e]=[],t.forEach((e=>{const t=document.querySelector(`img[data-src^="${e}"]`);t.removeAttribute("data-src"),t.src=e})),k.beacons[e]=[]},window.PandectesRules.unblockInlineScripts=function(e){const t=1===e?"functionality":2===e?"performance":"targeting",a=document.querySelectorAll(`script[type="javascript/blocked"][data-cookiecategory="${t}"]`);n(`unblockInlineScripts: ${a.length} in ${t}`),a.forEach((function(e){const t=document.createElement("script");t.type="text/javascript",e.hasAttribute("src")?t.src=e.getAttribute("src"):t.textContent=e.textContent,document.head.appendChild(t),e.parentNode.removeChild(e)}))},window.PandectesRules.unblockInlineCss=function(e){const t=1===e?"functionality":2===e?"performance":"targeting",a=document.querySelectorAll(`link[data-cookiecategory="${t}"]`);n(`unblockInlineCss: ${a.length} in ${t}`),a.forEach((function(e){e.href=e.getAttribute("data-href")}))},window.PandectesRules.unblock=function(e){e.length<1?(b.blackList=[],b.whiteList=[],b.iframesBlackList=[],b.iframesWhiteList=[]):(b.blackList&&(b.blackList=b.blackList.filter((t=>e.every((e=>"string"==typeof e?!t.test(e):e instanceof RegExp?t.toString()!==e.toString():void 0))))),b.whiteList&&(b.whiteList=[...b.whiteList,...e.map((e=>{if("string"==typeof e){const n=".*"+t(e)+".*";if(b.whiteList.every((e=>e.toString()!==n.toString())))return new RegExp(n)}else if(e instanceof RegExp&&b.whiteList.every((t=>t.toString()!==e.toString())))return e;return null})).filter(Boolean)]));let a=0;[...k.scripts].forEach((([e,t],n)=>{if(function(e){const t=e.getAttribute("src");return b.blackList&&b.blackList.every((e=>!e.test(t)))||b.whiteList&&b.whiteList.some((e=>e.test(t)))}(e)){const o=document.createElement("script");for(let t=0;t<e.attributes.length;t++){let n=e.attributes[t];"src"!==n.name&&"type"!==n.name&&o.setAttribute(n.name,e.attributes[t].value)}o.setAttribute("src",e.src),o.setAttribute("type",t||"application/javascript"),document.head.appendChild(o),k.scripts.splice(n-a,1),a++}})),0==b.blackList.length&&0===b.iframesBlackList[1].length&&0===b.iframesBlackList[2].length&&0===b.iframesBlackList[4].length&&0===b.beaconsBlackList[1].length&&0===b.beaconsBlackList[2].length&&0===b.beaconsBlackList[4].length&&(n("Disconnecting observers"),C.disconnect(),v.disconnect())};const{store:{adminMode:$,headless:E,storefrontRootDomain:B,checkoutRootDomain:T,storefrontAccessToken:R},banner:{isActive:I},blocker:O}=o,{defaultBlocked:U}=O;I&&function(e){if(window.Shopify&&window.Shopify.customerPrivacy)return void e();let t=null;window.Shopify&&window.Shopify.loadFeatures&&window.Shopify.trackingConsent?e():t=setInterval((()=>{window.Shopify&&window.Shopify.loadFeatures&&(clearInterval(t),window.Shopify.loadFeatures([{name:"consent-tracking-api",version:"0.1"}],(t=>{t?n("Shopify.customerPrivacy API - failed to load"):(n(`shouldShowBanner() -> ${window.Shopify.trackingConsent.shouldShowBanner()} | saleOfDataRegion() -> ${window.Shopify.trackingConsent.saleOfDataRegion()}`),e())})))}),10)}((()=>{!function(){const e=window.Shopify.trackingConsent;if(!1!==e.shouldShowBanner()||null!==l||7!==U)try{const t=$&&!(window.Shopify&&window.Shopify.AdminBarInjector);let a={preferences:!(1&u)||s||t,analytics:!(2&u)||s||t,marketing:!(4&u)||s||t};E&&(a.headlessStorefront=!0,a.storefrontRootDomain=B?.length?B:window.location.hostname,a.checkoutRootDomain=T?.length?T:`checkout.${window.location.hostname}`,a.storefrontAccessToken=R?.length?R:""),e.firstPartyMarketingAllowed()===a.marketing&&e.analyticsProcessingAllowed()===a.analytics&&e.preferencesProcessingAllowed()===a.preferences||e.setTrackingConsent(a,(function(e){e&&e.error?n("Shopify.customerPrivacy API - failed to setTrackingConsent"):n(`setTrackingConsent(${JSON.stringify(a)})`)}))}catch(e){n("Shopify.customerPrivacy API - exception")}}(),function(){if(E){const e=window.Shopify.trackingConsent,t=e.currentVisitorConsent();if(navigator.globalPrivacyControl&&""===t.sale_of_data){const t={sale_of_data:!1,headlessStorefront:!0};t.storefrontRootDomain=B?.length?B:window.location.hostname,t.checkoutRootDomain=T?.length?T:`checkout.${window.location.hostname}`,t.storefrontAccessToken=R?.length?R:"",e.setTrackingConsent(t,(function(e){e&&e.error?n(`Shopify.customerPrivacy API - failed to setTrackingConsent({${JSON.stringify(t)})`):n(`setTrackingConsent(${JSON.stringify(t)})`)}))}}}()}));const N=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","LI","NO","IS"],D="[Pandectes :: Google Consent Mode debug]:";function M(...e){const t=e[0],n=e[1],a=e[2];if("consent"!==t)return"config"===t?"config":void 0;const{ad_storage:o,ad_user_data:s,ad_personalization:r,functionality_storage:i,analytics_storage:c,personalization_storage:d,security_storage:l}=a,u={Command:t,Mode:n,ad_storage:o,ad_user_data:s,ad_personalization:r,functionality_storage:i,analytics_storage:c,personalization_storage:d,security_storage:l};return console.table(u),"default"===n&&("denied"===o&&"denied"===s&&"denied"===r&&"denied"===i&&"denied"===c&&"denied"===d||console.warn(`${D} all types in a "default" command should be set to "denied" except for security_storage that should be set to "granted"`)),n}let z=!1,j=!1;function x(e){e&&("default"===e?(z=!0,j&&console.warn(`${D} "default" command was sent but there was already an "update" command before it.`)):"update"===e?(j=!0,z||console.warn(`${D} "update" command was sent but there was no "default" command before it.`)):"config"===e&&(z||console.warn(`${D} a tag read consent state before a "default" command was sent.`)))}const{banner:{isActive:F,hybridStrict:W},geolocation:{caOnly:q=!1,euOnly:H=!1,brOnly:J=!1,jpOnly:G=!1,thOnly:V=!1,chOnly:K=!1,zaOnly:Z=!1,canadaOnly:Y=!1,globalVisibility:X=!0},blocker:{defaultBlocked:Q=7,googleConsentMode:{isActive:ee,customEvent:te,id:ne="",analyticsId:ae="",adwordsId:oe="",redactData:se,urlPassthrough:re,adStorageCategory:ie,analyticsStorageCategory:ce,functionalityStorageCategory:de,personalizationStorageCategory:le,securityStorageCategory:ue,dataLayerProperty:ge="dataLayer",waitForUpdate:fe=0,useNativeChannel:pe=!1,debugMode:he=!1}}}=o;function we(){window[ge].push(arguments)}window[ge]=window[ge]||[];const ye={hasInitialized:!1,useNativeChannel:!1,ads_data_redaction:!1,url_passthrough:!1,data_layer_property:"dataLayer",storage:{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted",analytics_storage:"granted",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"}};if(F&&ee){he&&(me=ge||"dataLayer",window[me].forEach((e=>{x(M(...e))})),window[me].push=function(...e){return x(M(...e[0])),Array.prototype.push.apply(this,e)});const e=0===(Q&ie)?"granted":"denied",t=0===(Q&ce)?"granted":"denied",n=0===(Q&de)?"granted":"denied",o=0===(Q&le)?"granted":"denied",s=0===(Q&ue)?"granted":"denied";ye.hasInitialized=!0,ye.useNativeChannel=pe,ye.url_passthrough=re,ye.ads_data_redaction="denied"===e&&se,ye.storage.ad_storage=e,ye.storage.ad_user_data=e,ye.storage.ad_personalization=e,ye.storage.analytics_storage=t,ye.storage.functionality_storage=n,ye.storage.personalization_storage=o,ye.storage.security_storage=s,ye.data_layer_property=ge||"dataLayer",we("set","developer_id.dMTZkMj",!0),ye.ads_data_redaction&&we("set","ads_data_redaction",ye.ads_data_redaction),ye.url_passthrough&&we("set","url_passthrough",ye.url_passthrough),function(){const e=u!==Q?{wait_for_update:fe||500}:fe?{wait_for_update:fe}:{};X&&!W?we("consent","default",{...ye.storage,...e}):(we("consent","default",{...ye.storage,...e,region:[...H||W?N:[],...q&&!W?["US-CA","US-VA","US-CT","US-UT","US-CO","US-MT","US-TX","US-OR","US-IA","US-NE","US-NH","US-DE","US-NJ","US-TN","US-MN"]:[],...J&&!W?["BR"]:[],...G&&!W?["JP"]:[],...Y&&!W?["CA"]:[],...V&&!W?["TH"]:[],...K&&!W?["CH"]:[],...Z&&!W?["ZA"]:[]]}),we("consent","default",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted",analytics_storage:"granted",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"}));if(null!==l){const e=0===(u&ie)?"granted":"denied",t=0===(u&ce)?"granted":"denied",n=0===(u&de)?"granted":"denied",a=0===(u&le)?"granted":"denied",o=0===(u&ue)?"granted":"denied";ye.storage.ad_storage=e,ye.storage.ad_user_data=e,ye.storage.ad_personalization=e,ye.storage.analytics_storage=t,ye.storage.functionality_storage=n,ye.storage.personalization_storage=a,ye.storage.security_storage=o,we("consent","update",ye.storage)}we("js",new Date);const t="https://www.googletagmanager.com";if(ne.length){const e=ne.split(",");window[ye.data_layer_property].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});for(let n=0;n<e.length;n++){const o="dataLayer"!==ye.data_layer_property?`&l=${ye.data_layer_property}`:"";a(`${t}/gtm.js?id=${e[n].trim()}${o}`)}}if(ae.length){const e=ae.split(",");for(let n=0;n<e.length;n++){const o=e[n].trim();o.length&&(a(`${t}/gtag/js?id=${o}`),we("config",o,{send_page_view:!1}))}}if(oe.length){const e=oe.split(",");for(let n=0;n<e.length;n++){const o=e[n].trim();o.length&&(a(`${t}/gtag/js?id=${o}`),we("config",o,{allow_enhanced_conversions:!0}))}}}()}var me;const{blocker:{klaviyoIsActive:be,googleConsentMode:{adStorageCategory:ke}}}=o;be&&window.addEventListener("PandectesEvent_OnConsent",(function(e){const{preferences:t}=e.detail;if(null!=t){const e=0===(t&ke)?"granted":"denied";void 0!==window.klaviyo&&window.klaviyo.isIdentified()&&window.klaviyo.push(["identify",{ad_personalization:e,ad_user_data:e}])}}));const{banner:{revokableTrigger:_e}}=o;_e&&(window.onload=async()=>{for await(let e of((e,t=1e3,n=1e4)=>{const a=new WeakMap;return{async*[Symbol.asyncIterator](){const o=Date.now();for(;Date.now()-o<n;){const n=document.querySelectorAll(e);for(const e of n)a.has(e)||(a.set(e,!0),yield e);await new Promise((e=>setTimeout(e,t)))}}}})('a[href*="#reopenBanner"]'))e.onclick=e=>{e.preventDefault(),window.Pandectes.fn.revokeConsent()}});const{banner:{isActive:Se},blocker:{defaultBlocked:Le=7,microsoft:{isActive:ve,uetTags:Ce,dataLayerProperty:Ae="uetq"}}}=o,Pe={hasInitialized:!1,data_layer_property:"uetq",storage:{ad_storage:"granted"}};if(Se&&ve){if(function(e,t,n){const a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);const o="expires="+a.toUTCString();document.cookie=`${e}=${t}; ${o}; path=/; secure; samesite=strict`}("_uetmsdns","0",365),Ce.length){const e=Ce.split(",");for(let t=0;t<e.length;t++)e[t].trim().length&&$e(e[t])}const e=4&Le?"denied":"granted";if(Pe.hasInitialized=!0,Pe.storage.ad_storage=e,window[Ae]=window[Ae]||[],window[Ae].push("consent","default",Pe.storage),null!==l){const e=4&u?"denied":"granted";Pe.storage.ad_storage=e,window[Ae].push("consent","update",Pe.storage)}}function $e(e){const t=document.createElement("script");t.type="text/javascript",t.src="//bat.bing.com/bat.js",t.onload=function(){const t={ti:e,cookieFlags:"SameSite=None;Secure"};t.q=window[Ae],window[Ae]=new UET(t),window[Ae].push("pageLoad")},document.head.appendChild(t)}window.PandectesRules.gcm=ye;const{banner:{isActive:Ee},blocker:{isActive:Be}}=o;n(`Prefs: ${u} | Banner: ${Ee?"on":"off"} | Blocker: ${Be?"on":"off"}`);const Te=null===l&&/\/checkouts\//.test(window.location.pathname);0!==u&&!1===s&&Be&&!Te&&(n("Blocker will execute"),document.createElement=function(...t){if("script"!==t[0].toLowerCase())return A.bind?A.bind(document)(...t):A;const n=A.bind(document)(...t);try{Object.defineProperties(n,{src:{...P.src,set(t){_(t,n.type)&&P.type.set.call(this,e),P.src.set.call(this,t)}},type:{...P.type,get(){const t=P.type.get.call(this);return t===e||_(this.src,t)?null:t},set(t){const a=_(n.src,n.type)?e:t;P.type.set.call(this,a)}}}),n.setAttribute=function(t,a){if("type"===t){const t=_(n.src,n.type)?e:a;P.type.set.call(n,t)}else"src"===t?(_(a,n.type)&&P.type.set.call(n,e),P.src.set.call(n,a)):HTMLScriptElement.prototype.setAttribute.call(n,t,a)}}catch(e){console.warn("Yett: unable to prevent script execution for script src ",n.src,".\n",'A likely cause would be because you are using a third-party browser extension that monkey patches the "document.createElement" function.')}return n},C.observe(document.documentElement,{childList:!0,subtree:!0}),v.observe(document.documentElement,{childList:!0,subtree:!0}))}();
